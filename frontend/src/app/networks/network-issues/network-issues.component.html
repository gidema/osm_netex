<!-- @let josmRemote = "http://localhost:8111"-->
<div class="container">
  @if (networkMatch$ | async; as nm) {
    <h1>{{ nm.name }} ({{ nm.shortName }})</h1>
    <p>OSM: <a [routerLink] =  "['/osm/network/', nm.osmNetwork?.id ]">{{ nm.osmNetwork?.name }}</a><br/>
       NeTex: <a [routerLink] =  "['/netex/network/', nm.netexNetwork?.id ]">{{ nm.netexNetwork?.name }}</a></p>
    
    @for (line of nm.lineMatches | filterBy: ['transportMode']: 'bus' | filterBy: ['netexName']: 'null'; track line.id) {
      @if ($first) {
        <h3 i18n>These OSM bus lines are not in the NeTex data. They may be discontinued.</h3>
      }
      <p><a [routerLink] = "['/osm/line', line.osmLine?.id]">{{ line.osmLine?.name }} </a>
        (<a href = "http://localhost:8111/load_object?objects=r {{ line.id }}&relation_members=true" target="new">Open in Josm </a>)</p>
    }

    @for (line of nm.lineMatches | filterBy: ['transportMode']: 'bus' | filterBy: ['osmName']: 'null'; track line.id;) {
      @if ($first) {
        <h3 i18n>These Netex bus lines are not found in OSM. They may be missing.</h3>
      }
      <p><a [routerLink] = "['/netex/line', line.netexLine?.id]">Line {{ line.lineNumber }}: {{ line.netexLine?.name }} </a></p>
    }
  }
</div>
